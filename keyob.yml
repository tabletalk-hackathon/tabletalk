name: tabletalk
version: 1.0.0

# Build configuration
build:
  buildpacks:
    - heroku/nodejs
  dockerfile: Dockerfile
  context: .

# Runtime configuration
runtime:
  port: 3000
  environment: production

# Port mapping - expose port 80 externally, map to 3000 internally
ports:
  - port: 80
    target_port: 3000
    protocol: http

# Environment variables
env:
  NODE_ENV: production
  PORT: 3000
  HOSTNAME: "0.0.0.0"

# Health check
health:
  path: /
  port: 3000
  timeout: 30s
  interval: 10s
  retries: 3
